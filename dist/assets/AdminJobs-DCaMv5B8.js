import{r as i,j as e,f,b as x,a as m}from"./index-3v0f8uEu.js";const b=()=>{const[d,a]=i.useState([]),[l,r]=i.useState(!0),[o,t]=i.useState("");i.useEffect(()=>{(async()=>{try{r(!0);const n=await m.getJobs();a(n.data)}catch(n){t("Failed to fetch jobs"),console.error(n)}finally{r(!1)}})()},[]);const u=async s=>{if(window.confirm("Are you sure you want to delete this job?"))try{await m.deleteJob(s),a(n=>n.filter(c=>c.id!==s))}catch(n){console.error("Error deleting job:",n)}};return l?e.jsxDEV("div",{children:"Loading..."},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:40,columnNumber:23},void 0):o?e.jsxDEV("div",{children:["Error: ",o]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:41,columnNumber:21},void 0):e.jsxDEV("div",{className:"container mx-auto px-4 py-8",children:[e.jsxDEV("h1",{className:"text-2xl font-bold mb-6",children:"Job Management"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:45,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{className:"bg-gray-50",children:[e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Title"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:52,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Company"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:53,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Location"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:54,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Applications"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:55,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Created At"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:56,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Actions"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:57,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:51,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:50,columnNumber:13},void 0),e.jsxDEV("tbody",{children:d.map(s=>{var n;return e.jsxDEV("tr",{className:"border-t",children:[e.jsxDEV("td",{className:"px-4 py-2",children:e.jsxDEV("div",{className:"font-medium",children:s.title},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:64,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:63,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-4 py-2",children:f(s.company)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:66,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-4 py-2",children:s.location},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:67,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-4 py-2",children:((n=s._count)==null?void 0:n.applications)||0},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:68,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-4 py-2",children:x(s.createdAt)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:69,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-4 py-2",children:[e.jsxDEV("button",{onClick:()=>window.location.href=`/jobs/${s.id}`,className:"text-blue-600 hover:text-blue-800 mr-2",children:"View"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:73,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>u(s.id),className:"text-red-600 hover:text-red-800",children:"Delete"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:79,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:72,columnNumber:19},void 0)]},s.id,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:62,columnNumber:17},void 0)})},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:60,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:49,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:48,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:47,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminJobs.tsx",lineNumber:44,columnNumber:5},void 0)};export{b as default};
