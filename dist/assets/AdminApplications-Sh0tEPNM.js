import{r,j as e,c as o}from"./index-3v0f8uEu.js";const A=()=>{const[c,l]=r.useState([]),[u,t]=r.useState(!0),[m,p]=r.useState("");r.useEffect(()=>{(async()=>{try{t(!0);const n=await o.getAllApplications();l(n.data)}catch(n){p("Failed to fetch applications"),console.error(n)}finally{t(!1)}})()},[]);const f=async(s,n)=>{try{await o.updateApplicationStatus(s,n),l(i=>i.map(a=>a.id===s?{...a,status:n}:a))}catch(i){console.error("Error updating application status:",i)}},x=s=>{switch(s){case"ACCEPTED":return"bg-green-100 text-green-800";case"REJECTED":return"bg-red-100 text-red-800";case"REVIEWING":return"bg-blue-100 text-blue-800";default:return"bg-yellow-100 text-yellow-800"}};return u?e.jsxDEV("div",{children:"Loading..."},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:54,columnNumber:23},void 0):m?e.jsxDEV("div",{children:["Error: ",m]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:55,columnNumber:21},void 0):e.jsxDEV("div",{className:"container mx-auto px-4 py-8",children:[e.jsxDEV("h1",{className:"text-2xl font-bold mb-6",children:"Application Management"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:59,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{className:"bg-gray-50",children:[e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Applicant"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:66,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Job"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:67,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Company"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:68,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Status"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:69,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Applied On"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:70,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Actions"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:71,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:65,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:64,columnNumber:13},void 0),e.jsxDEV("tbody",{children:c.map(s=>{var n,i,a,d;return e.jsxDEV("tr",{className:"border-t",children:[e.jsxDEV("td",{className:"px-4 py-2",children:[e.jsxDEV("div",{className:"font-medium",children:((n=s.user)==null?void 0:n.name)||"Unknown User"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:78,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500",children:((i=s.user)==null?void 0:i.email)||"No email"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:79,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:77,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-4 py-2",children:((a=s.job)==null?void 0:a.title)||"Unknown Position"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:81,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-4 py-2",children:(d=s.job)!=null&&d.company?typeof s.job.company=="string"?s.job.company:s.job.company.companyName||s.job.company.name||"N/A":"N/A"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:82,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-4 py-2",children:e.jsxDEV("span",{className:`px-2 py-1 text-xs rounded-full ${x(s.status)}`,children:s.status},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:90,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:89,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-4 py-2",children:new Date(s.createdAt).toLocaleDateString()},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:96,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-4 py-2",children:[e.jsxDEV("select",{value:s.status,onChange:N=>f(s.id,N.target.value),className:"border rounded px-2 py-1 mr-2",children:[e.jsxDEV("option",{value:"PENDING",children:"Pending"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:110,columnNumber:23},void 0),e.jsxDEV("option",{value:"REVIEWING",children:"Reviewing"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:111,columnNumber:23},void 0),e.jsxDEV("option",{value:"ACCEPTED",children:"Accepted"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:112,columnNumber:23},void 0),e.jsxDEV("option",{value:"REJECTED",children:"Rejected"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:113,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:100,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>window.open(s.resume||"#","_blank"),disabled:!s.resume,className:`text-blue-600 hover:text-blue-800 ${s.resume?"":"opacity-50 cursor-not-allowed"}`,children:"View Resume"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:115,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:99,columnNumber:19},void 0)]},s.id,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:76,columnNumber:17},void 0)})},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:74,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:63,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:62,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:61,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminApplications.tsx",lineNumber:58,columnNumber:5},void 0)};export{A as default};
