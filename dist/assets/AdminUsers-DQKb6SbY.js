import{r as i,j as e,a}from"./index-3v0f8uEu.js";const N=()=>{const[t,d]=i.useState([]),[o,m]=i.useState(!0),[l,u]=i.useState("");i.useEffect(()=>{(async()=>{try{m(!0);const n=await a.getUsers();d(n.data)}catch(n){u("Failed to fetch users"),console.error(n)}finally{m(!1)}})()},[]);const c=async(s,n)=>{try{await a.updateUserRole({userId:s,role:n});const r=await a.getUsers();d(r.data)}catch(r){console.error("Error updating user role:",r)}},f=async(s,n)=>{try{await a.updateUser(s,{isActive:n});const r=await a.getUsers();d(r.data)}catch(r){console.error("Error updating user status:",r)}};return o?e.jsxDEV("div",{children:"Loading..."},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:49,columnNumber:23},void 0):l?e.jsxDEV("div",{children:["Error: ",l]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:50,columnNumber:21},void 0):e.jsxDEV("div",{className:"container mx-auto px-4 py-8",children:[e.jsxDEV("h1",{className:"text-2xl font-bold mb-6",children:"User Management"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:54,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{className:"bg-gray-50",children:[e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Name"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:61,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Email"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:62,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Role"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:63,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Status"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:64,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-left",children:"Actions"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:65,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:60,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:59,columnNumber:13},void 0),e.jsxDEV("tbody",{children:t.map(s=>e.jsxDEV("tr",{className:"border-t",children:[e.jsxDEV("td",{className:"px-4 py-2",children:e.jsxDEV("div",{className:"font-medium",children:s.name},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:72,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:71,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-4 py-2",children:s.email},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:74,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-4 py-2",children:e.jsxDEV("select",{value:s.role,onChange:n=>c(s.id,n.target.value),className:"border rounded px-2 py-1",children:[e.jsxDEV("option",{value:"USER",children:"User"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:86,columnNumber:23},void 0),e.jsxDEV("option",{value:"COMPANY",children:"Company"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:87,columnNumber:23},void 0),e.jsxDEV("option",{value:"ADMIN",children:"Admin"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:88,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:76,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:75,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-4 py-2",children:e.jsxDEV("span",{className:`px-2 py-1 text-xs rounded-full ${s.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.isActive?"Active":"Inactive"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:92,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:91,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-4 py-2",children:e.jsxDEV("button",{onClick:()=>f(s.id,!s.isActive),className:"text-blue-600 hover:text-blue-800 mr-2",children:s.isActive?"Deactivate":"Activate"},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:103,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:102,columnNumber:19},void 0)]},s.id,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:70,columnNumber:17},void 0))},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:68,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:58,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:57,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:56,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/nuxes-front/src/pages/admin/AdminUsers.tsx",lineNumber:53,columnNumber:5},void 0)};export{N as default};
